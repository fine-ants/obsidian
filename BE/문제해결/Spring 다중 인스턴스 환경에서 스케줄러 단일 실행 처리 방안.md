
## 배경
- Spring 서버가 스케일 아웃하면서 동시 실행하는 구조가 되면서 각 인스턴스에 등록된 `@Scheduled` 작업이 중복 실행되는 문제가 발생할 수 있습니다.
- 예를 들어 5초마다 종목의 현재가를 갱신하는 스케줄러 작업같은 경우 중복 실행할 필요가 없습니다.

### 문제정의
- 다중 인스턴스 환경에서 `@Scheduled` 메서드가 모든 인스턴스에서 실행됩니다.
- 한번만 실행되어야 할 작업이 중복 실행됩니다.
- 리소스 낭비, 장애 유발, API 호출 제한 등이 유발됩니다.

### 해결 방안 제안
1. Redis 기반 분산 락
2. ShedLock 라이브러리 활용
3. 특정 인스턴스 전용 프로파일로 실행


| 구분  | Redis 기반 분산 락 | ShedLock 라이브러리 활용 | 특정 인스턴스 전용 프로파일 |
| --- | ------------- | ----------------- | --------------- |
|     |               |                   |                 |
