

## 1. Gradle Java 플러그인과 Java-Library 플러그인
### Java 플러그인은 무엇인가?
Gradle 설정에서 Java 플러그인을 추가하면 해당 프로젝트를 자바 프로젝트로 만들고 자바 소스코드를 컴파일, 테스트, 빌드하는데 필용한 기능들을 Gradle에 부여해줍니다.

```gradle
plugins {  
    id 'java'
}
```

Java 플러그인을 추가하면 다음 그림과 같은 테스크들을 사용할 수 있습니다. 각 테스크들간에 화살표 관계는 해당 테스크를 완료하기 위한 선행 조건 테스크들을 의미합니다. 예를 들어 build 테스크를 수행하기 위해서는 check, assemble 테스크가 먼저 수행 및 완료되어야 합니다.
![](refImg/Pasted%20image%2020251201155125.png)

자바 컴파일러가 자바 소스 코드(`*.java`)를 컴파일 하게 되면 바이트 코드(`*.class`)를 생성합니다. 이러한 바이트 코드들은 JVM(Java Virtual Machine)에 의해서 읽어지게 됩니다. 그리고 읽어진 바이트 코드들은 기계어로 번역됩니다. JVM이 자바 소스코드를 컴파일하거나 컴파일된 바이트코드를 읽어서 실행하기 위해서 파일과 패키지를 탐색하는데, 이러한 경로를 **클래스패스(classpath)**라고 합니다.

클래스패스에는 두가지 종류가 존재합니다. 첫번째는 컴파일 클래스 패스(compile class path), 두번째는 런타임 클래스 패스(runtime class path)입니다.
- 컴파일 클래스 패스(compile classpath) : 자바 소스 코드(`*.java`)를 바이트 코드(`*.class`)로 컴파일 할때 탐색하는 경로
- 런타임 클래스 패스(runtime classpath) : 컴파일 된 바이트 코드(`*.class`)을 JVM이 읽기 위해서 탐색하는 경로

**Gradle의 클래스패스 의존성 설정**
Gradle을 기반으로 자바 애플리케이션을 빌드하기 위해서 설정하는 의존성 설정이 존재합니다. 그래서 Gradle 설정에서 각각의 라이브러리의 의존성을 추가할때 어느 범위로 노출시킬 것인지 결정할 수 있습니다. 종류는 다음과 같습니다.
- compileOnly : 컴파일 클래스 경로에만 라이브러리를 설정함
- runtimeOnly : 런타임 클래스 경로에만 라이브러리를 설정함 
- implementation : 컴파일 클래스 경로, 런타임 클래스 경로 두곳에 라이브러리를 설정함
- api : 컴파일 클래스 경로, 런타임 클래스 경로 두곳에 라이브러리를 설정함

### Java-Library 플러그인은 무엇인가?
Java-Library 플러그인은 기본 Java 플러그인의 모든 기능을 포함하고, 라이브러리 개발에 필요한 특화된 규칙(예: 프로덕션 코드는 src/main/java에 위치)을 추가합니다.
Java 플러그인과의 차이점은 라이브러리 개발시 어떤 의존성을 라이브러리의 외부 API로 노출하고(다른 프로젝트가 접근 가능), 어떤 의존성을 내부 구현으로 숨길지(다른 프로젝트가 접근 불가)을 정의할 수 있습니다.(이때 `api`, `implementation` 설정이 사용됨)


