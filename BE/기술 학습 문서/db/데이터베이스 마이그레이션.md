
## 데이터베이스 마이그레이션이란 무엇인가?
**데이터베이스의 구조나 데이터를 한 환경에서 다른 환경으로 옮기거나 변경하는 모든 작업**을 말합니다.

마이그레이션 유형

| 유형            | 설명                                      |
| ------------- | --------------------------------------- |
| DMBS 간 마이그레이션 | 예: Oracle -> MySQL, MySQL -> PostgreSQL |
| 서버 간 마이그레이션   | 예: On-Premise 서버 -> 클라우드 RDS            |
| 스키마 마이그레이션    | 테이블, 컬럼, 인덱스 등 구조 변경                    |
| 데이터 마이그레이션    | 실제 저장된 데이터 이전/변환                        |
| 버전 업그레이드      | MySQL 5.7 -> 8.0 등, 같은 DMBS 내에서 버전 변경   |

마이그레이션 도구 예시

| 도구              | 설명                                             |
| --------------- | ---------------------------------------------- |
| Flyway          | Java 기반 마이그레이션 도구, SQL 스크립트 기반                 |
| Liquibase       | XML/JSON/YAML 기반으로 변경사항 추적                     |
| AWS DMS         | AWS Database Migration Service, 실시간 마이그레이션도 가능 |
| MySQL Workbench | 데이터 내보내기/가져오기 및 모델링                            |
| pgloader        | MySQL -> PostgreSQL 전환시 자주 사용                  |

이 글에서는 Spring 프레임워크, MySQL 데이터베이스를 사용한 상태에서 flywaydb 툴을 이용하여 어떻게 데이터베이스 마이그레이션하는지 알아봅니다.

## flyway 실습
### 의존성 추가
```gradle
implementation 'org.flywaydb:flyway-core'
```

### 마이그레이션 디렉토리 생성
- spring 프로젝트의 resources 디렉토리에 db.mysql.migration 디렉토리를 생성합니다.
- spring.flyway.locations 프로퍼티로 변경이 가능합니다.




